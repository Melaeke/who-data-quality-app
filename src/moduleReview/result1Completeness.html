<div class="reportPart">
	<div class="fullWidth headerPart">
		DOMAIN 1: COMPLETENESS OF REPORTING
	</div>

	<div class="noBreak">
		<table class="table tablePrint table-bordered table-condensed ">
			<tr bgcolor="#f9f9f9">
				<th colspan="6">
					1a: Completeness of facility reporting
				</th>
			</tr>
			<tr>
				<td colspan="6">
					<em>The percentage of expected reports that have been entered and completed.</em>
				</td>
			</tr>

			<tr bgcolor="#f9f9f9">
				<th rowspan="2" width="200">Dataset</th>
				<th rowspan="2" width="100">Quality threshold</th>
				<th rowspan="2" width="100">Overall score</th>
				<th colspan="3" width="100">{{revCtrl.selectedOrgunit.level.displayName}} with divergent score</th>
			</tr>
			<tr bgcolor="#f9f9f9">
				<th width="100">Number</th>
				<th width="100">Percent</th>
				<th>Name</th>
			</tr>
			<tr ng-repeat="dataset in revCtrl.completeness.datasets | orderBy : 'dxName'">
				<td>{{dataset.dxName}}</td>
				<td>{{dataset.threshold}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryValue)" class="valueCell">{{dataset.boundaryValue}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryValue)" class="valueCell">{{dataset.subunitsOutsideThreshold}}</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryValue)" class="valueCell">{{dataset.subunitViolationPercentage}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryValue)">{{dataset.subunitViolationNames.join(', ')}}</td>
				<td ng-if="!revCtrl.isNumber(dataset.boundaryValue)" colspan="4">Not available</td>
			</tr>
		</table>
		<h5>Interpretations</h5>
		<textarea class="interpretation"></textarea>
	</div>

	<div class="noBreak">
		<table class="table tablePrint table-bordered table-condensed ">
			<tbody>
			<tr bgcolor="#f9f9f9">
				<th colspan="6">
					1b: Completeness of indicator data
				</th>
			</tr>
			<tr>
				<td colspan="6">
					<em>Missing or zero values</em>
				</td>
			</tr>
			<tr bgcolor="#f9f9f9">
				<th rowspan="2" width="200">Indicator</th>
				<th rowspan="2" width="100">Quality threshold</th>
				<th rowspan="2" width="100">Overall score</th>
				<th colspan="3" width="100">{{revCtrl.selectedOrgunit.level.displayName}} with divergent score</th>
			</tr>
			<tr bgcolor="#f9f9f9">
				<th width="100">Number</th>
				<th width="100">Percent</th>
				<th>Name</th>
			</tr>
			<tr ng-repeat="indicator in revCtrl.completeness.indicators | orderBy : 'dxName'">
				<td>{{indicator.dxName}}</td>
				<td>{{indicator.threshold}}%</td>
				<td class="valueCell">{{indicator.boundaryValue}}%</td>
				<td class="valueCell">{{indicator.subunitsOutsideThreshold}}</td>
				<td class="valueCell">{{indicator.subunitViolationPercentage}}%</td>
				<td>{{indicator.subunitViolationNames.join(', ')}}</td>
			</tr>
			</tbody>
		</table>

		<h5>Interpretations</h5>
		<textarea class="interpretation"></textarea>
	</div>

	<div class="noBreak">

		<table class="table tablePrint table-bordered table-condensed ">
			<tr bgcolor="#f9f9f9">
				<th colspan="7">
					1c: Consistency of dataset completeness over time
				</th>
			</tr>
			<tr>
				<td colspan="7">
					<em>Completeness of datasets in {{revCtrl.yearSelected.id}} compared to previous three years.</em>
				</td>
			</tr>
			<tr bgcolor="#f9f9f9">
				<th rowspan="2" width="200">Indicator</th>
				<th rowspan="2" width="100">Expected trend</th>
				<th rowspan="2" width="100">Quality threshold</th>
				<th rowspan="2" width="100">Overall score</th>
				<th colspan="3" width="100">{{revCtrl.selectedOrgunit.level.displayName}} with divergent score</th>
			</tr>
			<tr bgcolor="#f9f9f9">
				<th width="100">Number</th>
				<th width="100">Percent</th>
				<th>Name</th>
			</tr>
			<tr ng-repeat="dataset in revCtrl.completeness.consistency| orderBy:'dxNameA':false">
				<td>{{dataset.dxNameA}}</td>
				<td ng-if="dataset.subType === 'constant'" class="valueCell">Constant</td>
				<td ng-if="dataset.subType === 'increasing'" class="valueCell">Increasing</td>
				<td ng-if="dataset.subType === 'decreasing'" class="valueCell">Decreasing</td>
				<td class="valueCell">{{dataset.criteria}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryPercentage)" class="valueCell">{{dataset.boundaryPercentage}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryPercentage)" class="valueCell">{{dataset.subunitsOutsideThreshold}}</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryPercentage)" class="valueCell">{{dataset.subunitViolationPercentage}}%</td>
				<td ng-if="revCtrl.isNumber(dataset.boundaryPercentage)" >{{dataset.subunitViolationNames.join(', ')}}</td>
				<td ng-if="!revCtrl.isNumber(dataset.boundaryPercentage)" colspan="4">Not available</td>
			</tr>
		</table>

		<h5>Interpretations</h5>
		<textarea class="interpretation"></textarea>
	</div>


	<div style="border: 1px dashed gray" class="noBreak" >
		<h5 class="chartTitle">Reporting completeness over time</h5>
		<div class="bigChart">
			<nvd3 options='revCtrl.datasetConsistencyChart.options' data='revCtrl.datasetConsistencyChart.data'></nvd3>
		</div>
	</div>
</div>

